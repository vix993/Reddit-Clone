"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.maybeFilter = exports.filterMaybes = void 0;
const lambda_1 = require("@typed/lambda");
const maybe_1 = require("@typed/maybe");
/**
 * Flatten a list of maybes into a list of values.
 * @param :: [Maybe a]
 * @returns :: [a]
 */
exports.filterMaybes = (list) => list.filter(maybe_1.isJust).map(maybe_1.fromJust);
/**
 * Filter a list using a maybe value. Returns the list unchanged if maybe is Nothing.
 * @param predicate :: (a -> b -> boolean)
 * @param maybe :: Maybe a
 * @param list :: [b]
 * @returns :: [b]
 */
exports.maybeFilter = lambda_1.curry((predicate, maybe, list) => {
    if (maybe_1.isNothing(maybe)) {
        return list.slice();
    }
    const a = maybe_1.fromJust(maybe);
    return list.filter((b) => predicate(a, b));
});
//# sourceMappingURL=filterMaybes.js.map