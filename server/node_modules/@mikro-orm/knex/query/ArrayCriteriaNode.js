"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ArrayCriteriaNode = void 0;
const internal_1 = require("./internal");
class ArrayCriteriaNode extends internal_1.CriteriaNode {
    static create(metadata, entityName, payload, parent, key) {
        const node = new ArrayCriteriaNode(metadata, entityName, parent, key);
        node.payload = payload.map(item => internal_1.CriteriaNode.create(metadata, entityName, item, node));
        return node;
    }
    process(qb, alias) {
        return this.payload.map((node) => {
            return node.process(qb, alias);
        });
    }
    willAutoJoin(qb, alias) {
        return this.payload.some((node) => {
            return node.willAutoJoin(qb, alias);
        });
    }
    getPath() {
        var _a, _b;
        /* istanbul ignore next */
        return ((_b = (_a = this.parent) === null || _a === void 0 ? void 0 : _a.parent) === null || _b === void 0 ? void 0 : _b.getPath()) || '';
    }
}
exports.ArrayCriteriaNode = ArrayCriteriaNode;
